<!--<configuration debug="false">-->
<!--%d{HH:mm:ss.SSS} 表示输出到毫秒的时间-->
<!--%t 输出当前线程名称-->
<!--%-5level 输出日志级别，-5表示左对齐并且固定输出5个字符，如果不足在右边补0-->
<!--%logger 输出logger名称，因为Root Logger没有名称，所以没有输出-->
<!--%msg 日志文本-->
<!--%n 换行-->
<!--其他常用的占位符有：-->
<!--%F 输出所在的类文件名，如Log4j2Test.java-->
<!--%L 输出行号-->
<!--%M 输出所在方法名-->
<!--%l 输出语句所在的行数, 包括类名、方法名、文件名、行数-->
<!--异步设置参考https://zhuanlan.zhihu.com/p/36554554-->
<!--http://logging.apache.org/log4j/2.x/manual/async.html-->
<configuration>
  <contextName>Health</contextName>
  <property name="log.dir" value="D:/code/C++/HealthApp/bin/win32/log" />
  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
    </encoder>
  </appender>

  <appender name="rollingFile" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>${log.dir}/Health_logback.log</file>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      <fileNamePattern>${log.dir}/logs/log-%d{yyyy-MM-dd}.log</fileNamePattern>
    </rollingPolicy>
    <encoder>
      <pattern>%d{yyyyMMdd HH:mm:ss.SSS} [%thread] %-5level %logger{36}[%method] - %msg%n</pattern>
    </encoder>
  </appender>

  <!--  <appender-ref ref="FILE" />-->

  <root level="${logLevel:-info}">
    <appender-ref ref="STDOUT" />
    <appender-ref ref="rollingFile" />
  </root>
</configuration>
